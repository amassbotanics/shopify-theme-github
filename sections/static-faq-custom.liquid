<section class="faq-custom__section content-area">
    <div class="text-content-wrap">
        <h1 class="faq-custom__heading">{{ section.settings.heading }}</h1>
        {%- for block in section.blocks -%}
          {%- case block.type -%}
            {%- when 'separator' -%}
              <h3 class="faq-custom__subheading">{{ block.settings.subheading | escape }}</h3>
            {%- when 'question' -%}
              {% assign image = block.settings.image %}
              <div class="faq-custom__item">
                <div id="FAQ-{{ block.settings.question-id }}" class="faq-custom__question-wrap js-faq-custom-button">
                    <h3 class="faq-custom__question">{{ block.settings.question }}</h3>
                    <div class="accordion-button"> + </div>
                </div>
                <div class="faq-custom__answer">
                  {{ block.settings.answer }}
                  {% if block.settings.image != blank %}
                    {%
                      render 'rimg'
                      img: image,
                      alt: image.alt,
                      size: '300x300',
                      lazy: true
                    %}
                  {% endif %}
                  {% if block.settings.embed != blank %}
                    {{ block.settings.embed }}
                  {% endif %}
                </div>
              </div>
          {%- endcase -%}
        {%- endfor -%}
    </div>
  </section>
  {% schema %}
    {
      "name": "FAQs",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading"
        }
    ],
      "blocks": [
        {
          "type": "separator",
          "name": "Section Subheading",
          "settings": [
            {
              "type": "text",
              "id": "subheading",
              "label": "Subheading"
            }
          ]
        },
        {
          "type": "question",
          "name": "Question",
          "settings": [
            {
              "type": "text",
              "id": "question-id",
              "label": "Question ID (hyphen between words)"
            },
            {
              "type": "text",
              "id": "question",
              "label": "Question"
            },
            {
              "type": "richtext",
              "id": "answer",
              "label": "Answer"
            },
            {
              "type": "image_picker",
              "id": "image",
              "label": "Image"
            },
            {
              "type": "html",
              "id": "embed",
              "label": "HTML"
            }
          ]
        }
      ]
    }
  {% endschema %}